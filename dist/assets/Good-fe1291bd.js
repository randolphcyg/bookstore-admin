import{_ as v,v as P,y as S,g as E,d as I,l as u,o as l,c as z,w as n,E as N,b as h,f as o,O as B,h as r,k as G,s as T,Q as $,R as D,S as V,T as M,G as R}from"./index-7dc32317.js";/* empty css             *//* empty css               *//* empty css              *//* empty css                  *//* empty css                     *//* empty css                 */const q={class:"header"},A=G("新增商品"),L=["src"],O={key:0,style:{color:"green"}},Q={key:1,style:{color:"red"}},j=["onClick"],F=["onClick"],H=["onClick"],J={__name:"Good",setup(K){const m=P(),{goTop:d}=m.appContext.config.globalProperties,i=S(),e=E({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10});I(()=>{c()});const c=()=>{e.loading=!0,u.get("/goods/list",{params:{pageNumber:e.currentPage,pageSize:e.pageSize}}).then(t=>{e.tableData=t.list,e.total=t.totalCount,e.currentPage=t.currPage,e.loading=!1,d&&d()})},b=()=>{i.push({path:"/add"})},f=t=>{i.push({path:"/add",query:{id:t}})},k=t=>{e.currentPage=t,c()},p=(t,_)=>{u.put(`/goods/status/${_}`,{ids:t?[t]:[]}).then(()=>{R.success("修改成功"),c()})};return(t,_)=>{const y=T,s=$,C=D,x=V,w=N;return l(),z(w,{class:"good-container"},{header:n(()=>[h("div",q,[o(y,{type:"primary",icon:B(M),onClick:b},{default:n(()=>[A]),_:1},8,["icon"])])]),default:n(()=>[o(C,{load:e.loading,data:e.tableData,"tooltip-effect":"dark",style:{width:"100%"}},{default:n(()=>[o(s,{prop:"goodsId",label:"商品编号"}),o(s,{prop:"goodsName",label:"商品名"}),o(s,{prop:"goodsIntro",label:"商品简介"}),o(s,{label:"商品图片",width:"150px"},{default:n(a=>[(l(),r("img",{style:{width:"100px",height:"100px"},key:a.row.goodsId,src:t.$filters.prefix(a.row.goodsCoverImg),alt:"商品主图"},null,8,L))]),_:1}),o(s,{prop:"stockNum",label:"商品库存"}),o(s,{prop:"sellingPrice",label:"商品售价"}),o(s,{label:"上架状态"},{default:n(a=>[a.row.goodsSellStatus==0?(l(),r("span",O,"销售中")):(l(),r("span",Q,"已下架"))]),_:1}),o(s,{label:"操作",width:"100"},{default:n(a=>[h("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:g=>f(a.row.goodsId)},"修改",8,j),a.row.goodsSellStatus==0?(l(),r("a",{key:0,style:{cursor:"pointer","margin-right":"10px"},onClick:g=>p(a.row.goodsId,1)},"下架",8,F)):(l(),r("a",{key:1,style:{cursor:"pointer","margin-right":"10px"},onClick:g=>p(a.row.goodsId,0)},"上架",8,H))]),_:1})]),_:1},8,["load","data"]),o(x,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:k},null,8,["total","page-size","current-page"])]),_:1})}}},oe=v(J,[["__scopeId","data-v-d8b1af50"]]);export{oe as default};
